<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <%- include('./includes/head.ejs')%>
    <title>Cadastro</title>
    <script>  
        function validar(event){     
            let password = document.getElementById('registerPassword');
            let repeatPassword = document.getElementById('registerRepeatPassword');             
            error = document.getElementById('error'); 
            if (repeatPassword.value != password.value) {
                error.innerText = 'As senhas não batem.';
                repeatPassword.setCustomValidity('As senhas não batem.');
            }else{
                error.innerText = '';
                repeatPassword.setCustomValidity('');
            }       
        }
    </script>
</head>

<body class="d-flex flex-column min-vh-100" style="background-image: url('https://img.freepik.com/vetores-premium/pata-imprimir-gato-cachorro-rastreamento-de-animais-de-estimacao-filhote_177006-39.jpg?w=1380')">
    <%- include('./includes/nav')%>
    <%- include('./includes/header')%>
    <div class="container">
        <div class="row p-4 d-flex justify-content-center pb-4">
            <div class="col-6 bg-light">
                <!-- Pills navs -->
                <ul class="nav nav-justified mb-3" id="ex1" role="tablist">
                    <li class="nav-item p-3" role="presentation">
                        <a class="btn btn-primary w-100" href="/login" role="button">Entrar</a>
                    </li>
                    <li class="nav-item p-3" role="presentation">
                        <a class="btn btn-secondary w-100" href="/register" role="button">Criar nova conta</a>
                    </li>
                </ul>
                <!-- Pills navs -->
                <h3 class="text-center">Cadastrar</h3>
                <!-- Pills content -->
                <div class="container">
                    <form action="/register" method="post">
                        <!-- Username input -->
                        <div class="form-outline mb-2">
                            <input type="text" name="username" id="registerUsername" class="form-control" required/>
                            <label class="form-label" for="registerUsername">Username</label>
                        </div>

                        <!-- Email input -->
                        <div class="form-outline mb-2">
                            <input type="email" name="email" id="registerEmail" class="form-control" required/>
                            <label class="form-label" for="registerEmail">Email</label>
                        </div>

                        <!-- Password input -->
                        <div class="form-outline mb-2">
                            <input type="password" name="password" id="registerPassword" class="form-control" required/>
                            <label class="form-label" for="registerPassword">Senha</label>
                        </div>

                        <!-- Repeat Password input -->
                        <div class="form-outline mb-2">
                            <input type="password" name="passwordRepeat" oninput="validar()" id="registerRepeatPassword" class="form-control" required/>
                            <label class="form-label" for="registerRepeatPassword">Confirmar senha</label>
                        </div>
                        <span class="error" id="error" style="color: red"></span>
                                                                                                                 
                        <!-- Checkbox -->
                        <div class="form-check d-flex justify-content-center mb-4">
                            <input class="form-check-input me-2" type="checkbox" value="" id="registerCheck" required
                                aria-describedby="registerCheckHelpText" />
                            <label class="form-check-label" for="registerCheck">
                                Concordar com termos de uso
                            </label>
                        </div>

                        <!-- Submit button -->
                        <button type="submit" class="btn btn-primary btn-block mb-3">Criar</button>
                    </form>
                </div>
                <!-- Pills content -->
            </div>
        </div>
    </div>
    <%- include('./includes/footer')%>
</body>

</html>